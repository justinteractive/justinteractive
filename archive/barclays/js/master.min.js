/*! myhr - v0.0.1 - 2018-07-24 */
$(document).ready(function(){console.log("main.js loaded");var e;$(document).on("mouseenter",".tab",function(t){clearTimeout(e);var n=$(this).attr("data-mega-menu-id");e=setTimeout(function(){$(".tab").removeClass("tab-selected"),$(this).addClass("tab-selected"),$(".mega-menu").hide(),$("#"+n).show()},200),console.log("tab hover - mega-menu "+n)}),$(document).on("mouseleave",".tab",function(t){clearTimeout(e);var n=$(this);e=setTimeout(function(){$(".mega-menu").hide(),$(n).removeClass("tab-selected")},100),console.log("tab un-hover")}),$(document).on("mouseenter",".mega-menu",function(t){clearTimeout(e)}),$(document).on("mouseleave",".mega-menu",function(t){e=setTimeout(function(){$(".mega-menu").hide(),$(".tab").removeClass("tab-selected")},100)}),$(function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="datepicker"]').datepicker({zIndex:2050,autoHide:!0})});var t=0,n="down",i="up";$(window).scroll(function(){$(this).scrollTop()>=t&&$(this).scrollTop()>160?(n="down")!=i&&($("#header").stop(),$("#header").animate({top:"-160px"},300),i=n):(n="up")!=i&&($("#header").stop(),$("#header").animate({top:"0px"},300),i=n),t=$(this).scrollTop()}),$(document).on("click",".btn-more-cards",function(e){$(this).parent().siblings(".more-cards").fadeIn().css("display","flex"),$(this).hide()}),$(document).on("click",".feedback .btn-yes",function(e){alert("Nice")}),$(document).on("click",".feedback .btn-no",function(e){alert("Tell us why...")}),$("#subnav ul li a[href^='#']").on("click",function(e){e.preventDefault();var t=this.hash;$("html, body").animate({scrollTop:$(t).offset().top},500,function(){window.location.hash=t,$("#header").hide().css("top","-160px").show()})})}),function(){for(var e,t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=t.length,i=window.console=window.console||{};n--;)i[e=t[n]]||(i[e]=function(){});i.log("plugins.js loaded")}(),$(document).ready(function(){function e(){$(".welcome-messages").empty(),$(".outerbox").slideToggle("fast"),$(".chat-head").hide(),$(".text-input").blur().focus(),n()}function t(){$(".chat-head").show(),$(".outerbox").hide(),$(".input-field").show(),$(".chat-body").empty()}function n(){W(!1,!1),te("Hi! Welcome to the Barclays ChatBot.",500),te("I can help you with the following:",1e3),ae(1500)}function i(){te("OK, lets start by providing me with your full name.",500),W(!0,"qbPayslipSendEmail__full_name")}function r(){te("Please provide your BRID.",500),setTimeout(function(){re("What is BRID and where can you find it?","qbBridHelp('qbPayslipSendEmail_Step2();');")},1e3),W(!0,"qbPayslipSendEmail_Step2__brid")}function s(){te("Please provide us with your email address. This can be either a personal email or your Barclays email address.",500),W(!0,"qbPayslipSendEmail_Step3__email")}function a(){te("Thank you, what month and year do you require your payslip from?",500),W(!0,"qbPayslipSendEmail_Step4__date")}function o(){te("Please check if the following are correct: <br>Full name: "+window.full_name+"<br>BRID: "+window.brid+"<br>Email address: "+window.email+"<br>Payslip Required: "+window.date,500),setTimeout(function(){re("Correct","qbPayslipSendEmailComplete();"),re("Amend details","qbPayslipSendEmail();")},1e3)}function c(){te("OK, lets start by providing me with your full name.",500),W(!0,"qbPayslipSendPost__full_name")}function u(){te("Please provide your BRID.",500),setTimeout(function(){re("What is BRID and where can you find it?","qbBridHelp('qbPayslipSendPost_Step2();');")},1e3),W(!0,"qbPayslipSendPost_Step2__brid")}function l(){te("Please provide us with your full address and postcode you would like your payslip mailed to.",500),W(!0,"qbPayslipSendPost_Step3__address")}function h(){te("Thank you, what month and year do you require your payslip from?",500),W(!0,"qbPayslipSendPost_Step4__date")}function d(){te("Would you like your document(s) notarised?",500),setTimeout(function(){re("Yes","qbPayslipSendPost_Finish(true);"),re("No","qbPayslipSendPost_Finish(false);"),re("What is `notarised` service?","qbPayslipNotarised();")},1e3)}function p(){te("Please provide your BRID.",500),W(!0,"qbApplicationBegin_Step1__brid")}function f(){te("Please give me the start and end date of leave (DD/MM/YYYY - DD/MM/YYYY). Please ensure you enter the calendar week(s) applicable to the leave period; a full seven day period must be entered per week. E.g. Monday-Sunday.",1e3),W(!0,"qbApplicationBegin_Step2__startend_date")}function m(){te("Please select the leave type:",500),setTimeout(function(){re("Maternity Leave","qbApplicationMaternityLeave();"),re("Paternity Leave","qbApplicationPaternityLeave();"),re("Add. Paternity Leave","qbApplicationAddPaternityLeave();"),re("Exit application","faq1004();")},1e3)}function y(){te("Please provide the Certification Provided Date",500),W(!0,"qbApplicationMaternityLeave_Step1__cert_date")}function g(){te("Please provide the MATB1 Stated Due Date",500),W(!0,"qbApplicationMaternityLeave_Step2__matb_date")}function b(){te("Please provide the MATB1 issue Date",500),W(!0,"qbApplicationMaternityLeave_Step3__matb_issue_date")}function v(){te("If you have any validation documents, please send them to HR services using existing procedure.",500),window.leave_subtype="Statutory Maternity",te("Finally, please confirm the following details are correct: <br>Name: "+window.full_name+" <br>BRID: "+window.brid+" <br>Start Date - End Date (DD/MM/YYYY): "+window.startenddate+" <br>Leave Type: "+window.leave_type+" <br>Leave Sub-type: Statutory Maternity <br>Pay Notification Date: "+window.notifdate+" <br>Certification Provided Date: "+window.certdate+" <br>MATB1 Stated Due Date: "+window.matbdate+" <br>MATB1 Issue Date: "+window.matbissuedate,500),setTimeout(function(){re("Correct","qbApplicationMaternityLeaveFinish();"),re("Amend Details","qbApplicationBegin();")},1e3)}function _(){te("Please provide an intended Start Date.",500),W(!0,"qbApplicationPaternityLeave_Step2__start_date")}function w(){te("Finally, please confirm your details: <br>Name: "+window.full_name+" <br>BRID: "+window.brid+" <br>Start Date - End Date (DD/MM/YYYY): "+window.startenddate+" <br>Leave Type: "+window.leave_type+" <br>Leave Sub-type: "+window.leave_subtype+" <br>Notification Date: "+window.notifdate+" <br>Intended Start Date: "+window.startdate,500),setTimeout(function(){re("Correct","qbApplicationPaternityLeaveFinish();"),re("Amend Details","qbApplicationBegin();")},1e3)}function k(){te("What is your department?",500),W(!0,"qbApplicationAddPaternityLeave_Step1__department")}function S(){te("Who is your Line Manager?",500),W(!0,"qbApplicationAddPaternityLeave_Step2__linemgr")}function q(){te("What is your national insurance number?",500),W(!0,"qbApplicationAddPaternityLeave_Step3__natinsurance")}function A(){te("Childs actual or expected date of birth or date of placement?",500),W(!0,"qbApplicationAddPaternityLeave_Step4__childdate")}function P(){te("Please confirm that you are either: The baby`s biological father OR Married to the baby`s mother OR In a partnership or civil partnership with the baby`s mother; AND The purpose of my APL is to care for the child; AND Apart from the mother, I will have main responsibility for bringing up the child.",500),setTimeout(function(){re("Correct","qbApplicationAddPaternityLeaveFinish_Step1();"),re("Exit Application","qbMainMenu();")},1e3)}function x(){te("Pleae provide your postal address including postcode.",500),W(!0,"qbApplicationSend_Step1__address")}function T(){te("Which of the application forms would you like to recieve?",500),setTimeout(function(){re("Parental Leave","qbApplicationSendParentalLeave();"),re("Maternity / Paternity / Adoption Leave","qbApplicationSendMaternityPaternityAdoptionLeave();"),re("Shared Parental Leave and Pay Application Record","qbApplicationSendSharedParentalLeave();"),re("Add. Paternity Leave","qbApplicationSendAddPaternityLeave();"),re("Online Application","qbApplicationSendOnlineApplication();"),re("Go to main menu","qbMainMenu();")},1e3)}function L(){te("Please provide your BRID.",500),setTimeout(function(){re("What is BRID and where can you find it?","qbBridHelp('qbReturnOnlineProcess_Step2();');")},1e3),W(!0,"qbReturnOnlineProcess_Step2__brid")}function D(){te("Please type in your barclays email address.",500),W(!0,"qbReturnOnlineProcess_Step3__email")}function C(){te("Please give me the Return From Leave date. This date should be the official date as the one you have provided to your Line Manager before your leave, as this is the agreed date.",500),W(!0,"qbReturnOnlineProcess_Step4__leavedate")}function I(){te("Please select your leave type:",500),setTimeout(function(){re("Planned Leave","qbReturnOnlineProcessPlannedLeave();"),re("Sickness","qbReturnOnlineProcessSickness();")},1e3)}function R(){te("Last step, please tell me your Line Manager`s Barclays email address.",500),W(!0,"qbReturnOnlineProcess_Step6__linemgr_email")}function B(){te("Finally, please confirm the following details are correct: <br>Name: "+window.full_name+" <br>BRID: "+window.brid+" <br>Your Barclays Email address: "+window.email+" <br>Your Return From Leave date: "+window.leavedate+" <br>Leave Type: "+window.leavetype+" <br>Line Manager Name: "+window.linemgr+" <br>Line Manager Email address: "+window.linemgr_email,500),setTimeout(function(){re("Correct","qbReturnOnlineProcess_Finish();"),re("Amend Details","qbReturnOnlineProcess();")},1e3)}function M(){te("Here are a few policies around leaves in Barclays. Please select the policy you would like to view from the list below.",500),setTimeout(function(){re("Maternity/ Paternity/ Adoption Leave Policies","qbPolicies();"),re("Shared Parental Leave Policy","qbLeaveMyHRParental();"),re("Sickness","qbSickProcedure();")},1e3)}function E(e){te("You will be paid on the 23rd of each month (16th of the month for December) or on the preceding business day if this falls on a Saturday, Sunday or Bank Holiday.",500),te("Although payment is made part through the month, it is for the whole of the calendar month.",1e3),setTimeout(function(){re("Your Payroll Explained","qbPayrollExpl();"),re("Payroll Dates","qbPayrollDates();"),re("Main Menu","qbMainMenu();")},2e3)}function O(e){e?-1!==e.indexOf("post")||-1!==e.indexOf("posted")?c():-1!==e.indexOf("email")||-1!==e.indexOf("emailed")?i():(te("Payslips are available to view and print two calendar days before each payday. These are accessed via MyHR – there is a quick link to `My payslip` under `related actions`. This also gives you access to view and print historical payslips.",500),te("Would you like to view your payslip or have it sent to you?",1e3),setTimeout(function(){re("Sent to me","qbPayslipSend();"),re("View my payslip online","qbPayslipView();")},2e3)):(te("Payslips are available to view and print two calendar days before each payday. These are accessed via MyHR – there is a quick link to `My payslip` under `related actions`. This also gives you access to view and print historical payslips.",500),te("Would you like to view your payslip or have it sent to you?",1e3),setTimeout(function(){re("Sent to me","qbPayslipSend();"),re("View my payslip online","qbPayslipView();")},2e3))}function F(e){te("You are entitled to take up to 18 weeks unpaid Parental Leave to look after any children who you have formal or legal responsibility for. Any Parental Leave must be taken before your child’s 18th birthday and a maximum of four weeks can be taken in a calendar year.",500),te("To be eligible for Parental Leave, you must have at least one year’s continuous service at Barclays. You must also have legal or formal responsibility for the child you are taking leave to look after.",1e3),te("Please refer to page seven of the Time Away From Work Policy document for further entitlement and eligibility details by clicking the link below.",1500),setTimeout(function(){re("View Time Away from Work Policy online","qbLeaveTimeAway();")},1500)}function H(e){te("You can access the application forms online as well as have it sent to you. We can even process it online right here. Please choose from the options below:",500),setTimeout(function(){re("Online Applications","qbApplicationOnline();"),re("View application forms online","qbApplicationView();"),re("Send to me via Post","qbApplicationSend();")},1e3)}function z(e){te("Barclays is committed to supporting and protecting the health and well being of employees and assisting them to return to work following ill health. if you are absent due to ill health, independent specialist advice will be taken as appropiate and Barclays may continue to pay all or part of your salary if you meet certain eligibility criteria. For further details, please refer to the ill health policy document in MyHR or click the button below.",500),setTimeout(function(){re("Ill health Policy","qbHealthPolicy();"),re("Overview of the sickness procedure and FAQs","qbSickProcedure();"),re("Longterm sickness","qbSickLongterm();"),re("Ill health Procedure","qbHealthProcedure();"),re("Sick pay provisions","qbSickProvisions();"),re("Main menu","qbMainMenu();")},1e3)}function K(e){te("All employees, irrespective of length of service, are entitled to up to 52 weeks Adoption Leave and this may be further extended by making a request for Parental Leave or a career break. What pay you will receive during the leave depends on your length of service and when your child is matched for adoption. ‘Employees’ are encouraged to call HR Operations UK on 0800 145 6013 (dialling from outside UK: +44 2036 843 747) to discuss details of how this policy may apply to them.",500),setTimeout(function(){re("Adoption Policy UK","qbAdoptionPolicyUK();"),re("Adoption Policy for Wealth and Investment Management (UK)","qbAdoptionPolicyWealthInvestment();"),re("Adoption Pay Provisions - UK Mainland","qbAdoptionPayProvisions();"),re("Parental Leave entitlement","faq1003();"),re("Main menu","qbMainMenu();")},1e3)}function j(e){te("Ok, so you want to log your return to work. Logging your return to work is mandatory for all Barclays employees that have been away on leave. If you need help logging your return to Barclays, I can help with that.",500),setTimeout(function(){re("View Policy","qbReturnLeavePolicy();"),re("Start Online Process","qbReturnOnlineProcess();")},1e3)}function N(e){te("Your BRID is the set of 9 alphanumeric characters that you use to log into your Barclays machine. This number can be found in your IT log-in starter pack issued to you when you first joined Barclays. It will also be available on your MyHR portal.",500),setTimeout(function(){re("Main Menu","qbMainMenu();")},1e3)}function Q(e){M()}function W(e,t){window.callback=t,window.getinput=e}function V(){return{input:window.getinput,cb:window.callback}}function Y(e){var t=V();if(!0===t.input){switch(W(!1,!1),t.cb){case"qbPayslipSendEmail__full_name":window.full_name=e,r();break;case"qbPayslipSendEmail_Step2__brid":window.brid=e,s();break;case"qbPayslipSendEmail_Step3__email":window.email=window.getLastMessage,a();break;case"qbPayslipSendEmail_Step4__date":window.date=e,o();break;case"qbPayslipSendPost__full_name":window.full_name=e,u();break;case"qbPayslipSendPost_Step2__brid":window.brid=e,l();break;case"qbPayslipSendPost_Step3__address":window.address=e,h();break;case"qbPayslipSendPost_Step4__date":window.date=e,d();break;case"qbReturnOnlineProcess__full_name":window.full_name=e,L();break;case"qbReturnOnlineProcess_Step2__brid":window.brid=e,D();break;case"qbReturnOnlineProcess_Step3__email":window.email=window.getLastMessage,C();break;case"qbReturnOnlineProcess_Step4__leavedate":window.leavedate=e,I();break;case"qbReturnOnlineProcess_Step5__linemgr":window.linemgr=e,R();break;case"qbReturnOnlineProcess_Step6__linemgr_email":window.linemgr_email=e,B();break;case"qbApplicationBegin__full_name":window.full_name=e,p();break;case"qbApplicationBegin_Step1__brid":window.brid=e,f();break;case"qbApplicationBegin_Step2__startend_date":window.startenddate=e,m();break;case"qbApplicationMaternityLeave__notif_date":window.notifdate=e,y();break;case"qbApplicationMaternityLeave_Step1__cert_date":window.certdate=e,g();break;case"qbApplicationMaternityLeave_Step2__matb_date":window.matbdate=e,b();break;case"qbApplicationMaternityLeave_Step3__matb_issue_date":window.matbissuedate=e,v();break;case"qbApplicationPaternityLeave_Step1__notif_date":window.notifdate=e,_();break;case"qbApplicationPaternityLeave_Step2__start_date":window.startdate=e,w();break;case"qbApplicationAddPaternityLeave__start_date":window.startdate=e,k();break;case"qbApplicationAddPaternityLeave_Step1__department":window.department=e,S();break;case"qbApplicationAddPaternityLeave_Step2__linemgr":window.linemgr=e,q();break;case"qbApplicationAddPaternityLeave_Step3__natinsurance":window.nins=e,A();break;case"qbApplicationAddPaternityLeave_Step4__childdate":window.dob=e,P();break;case"qbApplicationSend__name":window.full_name=e,x();break;case"qbApplicationSend_Step1__address":window.address=e,T()}return!1}return!0}function U(e,t){$.get("http://46.101.77.5/logger.php?iid="+e+"&str="+t)}function J(e,t){switch(t.userInput&&U(e,t.userInput),e){case"-1":Y(t.userInput)&&$.get("http://46.101.77.5/stapi.php?str="+t.userInput,function(e){e.id?(te(e.response,500),"4"===e.id&&ae(1e3),e.gif&&ie(e.gif,1e3,e.response)):te("Sorry, I did not understand what you said, can you please try to rephrase the question",500)},"json");break;case"-2":Y(t.userInput)&&te("Sorry, I can somewhat understand what you are trying to say but there is a confliction between the intents. Please rephrase and try again",500);break;case"-3":Y(t.userInput)&&(W(!1,!1),te("Sorry, I have an idea about what you are looking for but I am not sure. Can you maybe try to phrase this differently?",500));break;case"1001":E(t);break;case"1002":O(t=t.userInput);break;case"1003":F(t);break;case"1004":H(t);break;case"1005":z(t);break;case"1006":K(t);break;case"1007":j(t);break;case"1008":N(t);break;case"1009":Q(t);break;default:te("Sorry, we cannot facilitate your query at this time. Please check your internet connection or try again later.",500)}}function G(e){J(e.intent_id,e.debug)}function Z(e){se(),ne(e),setTimeout(function(){$.get("http://46.101.77.5/proxy.php?str="+e,function(e){G(e)},"json")},1e3)}function X(){1==$(".chat-body").find(".typing-indicator").length||($(".chat-body").append('<div class="typing-indicator"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>'),$(".chat-body").scrollTop($(".chat-body")[0].scrollHeight))}function ee(){$(".typing-indicator").fadeOut().remove()}function te(e,t){X(),setTimeout(function(){ee();var t=new Date,n=t.getHours()+":"+t.getMinutes()+" "+t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear();$(".chat-body").append('<br><p class="timestamp-container-bot">'+n+'</p><div class="slide-in-left"><img class="chat-icon" src="img/icons/icon-chatbot-chat-logo.png"><div class="speech-bubble-bot"><p class="bot-input-text pointerclass-bot">'+e+"</p></div></div>"),$(".chat-body").scrollTop($(".chat-body")[0].scrollHeight)},t)}function ne(e){window.getLastMessage=e,$(".text-input").val("").focus();var t=new Date,n=t.getHours()+":"+t.getMinutes()+" "+t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear();$(".chat-body").append('<br><p class="timestamp-container">'+n+'</p><div class="slide-in-left"><div class="speech-bubble-user"><p class="user-input-text pointerclass-user">'+e+"</p></div></div>"),$(".chat-body").scrollTop($(".chat-body")[0].scrollHeight)}function ie(e,t,n){setTimeout(function(){var t=new Date,i=t.getHours()+":"+t.getMinutes()+" "+t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear();$(".chat-body").append('<br><p class="timestamp-container-bot">'+i+'</p><div class="slide-in-left"><img class="chat-icon" src="img/icons/icon-chatbot-chat-logo.png"><div class="speech-bubble-bot" style="border-radius: 0px !important; cursor: pointer;"><p class="bot-input-text pointerclass-bot" style="padding: 0px !important;"><img onclick="expandImage(\''+e+"', '"+n+'\');" width="100%" onload="$(\'.chat-body\').scrollTop($(\'.chat-body\')[0].scrollHeight);" src="'+e+'"></img></p></div></div>'),$(".chat-body").scrollTop($(".chat-body")[0].scrollHeight)},t)}function re(e,t){return $(".chat-body").append("<button onclick=\"removeQuickButtons(); appendSendMessage('"+e+"'); "+t+'" class="quickbutton center-block bounce-in-fwd">'+e+"</button>"),$(".chat-body").scrollTop($(".chat-body")[0].scrollHeight),!0}function se(){return $(".quickbutton").each(function(){$(this).fadeOut().remove()}),!0}function ae(e){setTimeout(function(){$(".chat-body").append('<div class="card-slider"><div class="card-container"><div class="card center-block carid-1"><div class="card-description">Recently asked questions</div><ul class"list-group list-group-flush"><li onclick="faq1007(\'\');" class="list-group-item card-btn-1">Log my return to work</li><li onclick="faq1002(\'\');" class="list-group-item card-btn-2">Send me my payslip</li><li onclick="faq1004(\'\');" class="list-group-item card-btn-3">Apply for parental leave</li></ul></div><div class="card center-block carid-2"><div class="card-description">FAQs</div><ul class"list-group list-group-flush"><li onclick="faq1008(\'\');" class="list-group-item card-btn-1">What is BRID?</li><li onclick="faq1001(\'\');" class="list-group-item card-btn-2">When is payday?</li><li onclick="faq1003(\'\');" class="list-group-item card-btn-3">Parental leave enetitlement?</li></ul></div><div class="card center-block carid-3"><div class="card-description">Leave FAQs</div><ul class"list-group list-group-flush"><li onclick="faq1009(\'\');" class="list-group-item card-btn-1">Barclays leave policies</li><li onclick="faq1006(\'\');" class="list-group-item card-btn-2">Barclays adoption policy</li><li onclick="faq1005(\'\');" class="list-group-item card-btn-3">Barclays sick leave policy</li></ul></div></div><div class="button-container"><div class="next-button"><img class="fas fa-arrow-circle-right next-button-font" src="img/icons/icon-chatbot-carousel-right.png"></div><div class="previous-button"><img class="fas fa-arrow-circle-left previous-button-font" src="img/icons/icon-chatbot-carousel-left.png"></div></div></div>'),$(".chat-body").scrollTop($(".chat-body")[0].scrollHeight)},e)}console.log("chatbot.js loaded fufufu");new Typed("#search-box",{strings:["How do I log my return to work?"],typeSpeed:30,backSpeed:30,smartBackspace:!0,loop:!1,showCursor:!1});setTimeout(function(){$(".results").fadeIn(),setTimeout(function(){$(".welcome-messages").append('<i style="cursor:pointer;" onclick="$(\'.welcome-messages\').empty();" class="fa fa-times pull-right"></i><p onclick="openChat();" class="welcome-message">Hi Jane ✋ welcome to Barclays HR!</p>')},2e3),setTimeout(function(){$(".welcome-messages").append('<p onclick="openChat();" class="welcome-message">I\'ve noticed you want to find out how to log your <b>return to work.</b> I can help you with this. Do you want to start the process now?</p>')},3e3)},3e3),$(document).on("click",".next-button",function(){var e=$(".card-container").scrollLeft();$(".card-container").animate({scrollLeft:e+248},400)}),$(document).on("click",".previous-button",function(){var e=$(".card-container").scrollLeft();$(".card-container").animate({scrollLeft:e-248},400)}),$(document).ready(function(){var e=$(window).height()-110;$(".chat-body").css("height",e)}),$(window).resize(function(){var e=$(window).height()-110;$(".chat-body").css("height",e)}),$(".chat-head").click(function(){e()}),$("#close-button").click(function(){t()}),$(".send").on("click keypress",function(){input=$(".text-input").val(),input?Z(input):$(".text-input").blur().focus()}),$(document).on("keypress","input",function(e){if(13==e.keyCode&&"submit"!==e.target.type)return e.preventDefault(),""===$(".text-input").val()?$(e.target).blur().focus():(Z($(".text-input").val()),$(e.target).blur().focus())})}),console.log("search.js loaded");var substringMatcher=function(e){return function(t,n){var i;i=[],substrRegex=new RegExp(t,"i"),$.each(e,function(e,t){substrRegex.test(t)&&i.push(t)}),n(i)}},states=[{name:"Annual leave policy",url:"pol-annual-leave.php",target:"_self"},{name:"Maternity leave policy",url:"pol-maternity-leave.php",target:"_self"},{name:"Paternity leave policy",url:"pol-paternity-leave.php",target:"_self"},{name:"Paternal leave policy",url:"pol-paternal-leave.php",target:"_self"},{name:"Shared parental leave policy",url:"pol-shared-paternal-leave.php",target:"_self"},{name:"Career break policy",url:"pol-career-break.php",target:"_self"},{name:"Unpaid leave",url:"pol-unpaid-leave.php",target:"_self"},{name:"View all results",url:"search-results.php",target:"_self"}],suggestions=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:states});$(".search .typeahead").typeahead(null,{displayKey:"name",source:suggestions,templates:{suggestion:function(e){return'<a href="'+e.url+'" target="'+e.target+'">'+e.name+"</a>"}}}),function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return e.Bloodhound=t(n)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function(e){console.log("typeahead.bundle.js loaded");var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){e.each(t,function(e,t){return n(t,e)})},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,r){if(!(i=n.call(null,r,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,r){if(i=n.call(null,r,e,t))return!1}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){return e.isFunction(t)?t:function(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,r;return function(){var s,a,o=this,c=arguments;return s=function(){i=null,n||(r=e.apply(o,c))},a=n&&!i,clearTimeout(i),i=setTimeout(s,t),a&&(r=e.apply(o,c)),r}},throttle:function(e,t){var n,i,r,s,a,o;return a=0,o=function(){a=new Date,r=null,s=e.apply(n,i)},function(){var c=new Date,u=t-(c-a);return n=this,i=arguments,u<=0?(clearTimeout(r),r=null,a=c,s=e.apply(n,i)):r||(r=setTimeout(o,u)),s}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function e(e){return(e=t.toStr(e))?e.split(/\s+/):[]}function n(e){return(e=t.toStr(e))?e.split(/\W+/):[]}function i(e){return function(n){return n=t.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return t.each(n,function(n){r=r.concat(e(t.toStr(i[n])))}),r}}}return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}}}(),r=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new r(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new i}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),s=function(){"use strict";function n(e,n){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=n||o,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(e){return JSON.stringify(t.isUndefined(e)?null:e)}function s(t){return e.parseJSON(t)}function a(e){var t,n,i=[],r=o.length;for(t=0;t<r;t++)(n=o.key(t)).match(e)&&i.push(n.replace(e,""));return i}var o;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(e){o=null}return t.mixin(n.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(e){"QuotaExceededError"===e.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),s(this.ls.getItem(this._prefix(e)))},set:function(e,n,s){return t.isNumber(s)?this._safeSet(this._ttlKey(e),r(i()+s)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),r(n))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=a(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var n=s(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(n)&&i()>n)}}),n}(),a=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new r(0):o}var i=0,s={},a=6,o=new r(10);return n.setMaxPendingRequests=function(e){a=e},n.resetCache=function(){o.reset()},t.mixin(n.prototype,{_fingerprint:function(t){return(t=t||{}).url+t.type+e.param(t.data||{})},_get:function(e,t){function n(e){t(null,e),u._cache.set(o,e)}function r(){t(!0)}var o,c,u=this;o=this._fingerprint(e),this.cancelled||o!==this.lastReq||((c=s[o])?c.done(n).fail(r):i<a?(i++,s[o]=this._send(e).done(n).fail(r).always(function(){i--,delete s[o],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,s;i=i||e.noop,n=t.isString(n)?{url:n}:n||{},s=this._fingerprint(n),this.cancelled=!1,this.lastReq=s,(r=this._cache.get(s))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),o=window.SearchIndex=function(){"use strict";function n(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||t.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function r(){var e={};return e[c]=[],e[o]={},e}function s(e){for(var t={},n=[],i=0,r=e.length;i<r;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function a(e,t){var n=0,i=0,r=[];e=e.sort(),t=t.sort();for(var s=e.length,a=t.length;n<s&&i<a;)e[n]<t[i]?n++:e[n]>t[i]?i++:(r.push(e[n]),n++,i++);return r}var o="c",c="i";return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var s,a;n.datums[s=n.identify(e)]=e,a=i(n.datumTokenizer(e)),t.each(a,function(e){var t,i,a;for(t=n.trie,i=e.split("");a=i.shift();)(t=t[o][a]||(t[o][a]=r()))[c].push(s)})})},get:function(e){var n=this;return t.map(e,function(e){return n.datums[e]})},search:function(e){var n,r,u=this;return n=i(this.queryTokenizer(e)),t.each(n,function(e){var t,n,i,s;if(r&&0===r.length)return!1;for(t=u.trie,n=e.split("");t&&(i=n.shift());)t=t[o][i];if(!t||0!==n.length)return r=[],!1;s=t[c].slice(0),r=r?a(r,s):s}),r?t.map(s(r),function(e){return u.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),c=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new s(e.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(e){var t,n=this;e&&(t=this.prepare(this._settings()),this.transport(t).fail(function(){e(!0)}).done(function(t){e(null,n.transform(t))}))},clear:function(){return this.storage.clear(),this}}),e}(),u=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new a({cache:e.cache,limiter:e.limiter,transport:e.transport})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){var n,i=this;if(t)return e=e||"",n=this.prepare(e,this._settings()),this.transport.get(n,function(e,n){t(e?[]:i.transform(n))})},cancelLastRequest:function(){this.transport.cancel()}}),e}(),l=function(){"use strict";function i(i){var r;return i?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},i=t.isString(i)?{url:i}:i,!(i=t.mixin(r,i)).url&&e.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?o(i.transport):e.ajax,i):null}function r(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,!(n=t.mixin(i,n)).url&&e.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=s(n),n.limiter=a(n),n.transport=n.transport?o(n.transport):e.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function s(e){var t,n,i;return t=e.prepare,n=e.replace,i=e.wildcard,t||(t=n?function(e,t){return t.url=n(t.url,e),t}:e.wildcard?function(e,t){return t.url=t.url.replace(i,encodeURIComponent(e)),t}:function(e,t){return t})}function a(e){var n,i,r;return n=e.limiter,i=e.rateLimitBy,r=e.rateLimitWait,n||(n=/^throttle$/i.test(i)?function(e){return function(n){return t.throttle(n,e)}}(r):function(e){return function(n){return t.debounce(n,e)}}(r)),n}function o(n){return function(i){var r=e.Deferred();return n(i,function(e){t.defer(function(){r.resolve(e)})},function(e){t.defer(function(){r.reject(e)})}),r}}return function(n){var s,a;return s={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(n=t.mixin(s,n||{})).datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),a=n.sorter,n.sorter=a?function(e){return e.sort(a)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=r(n.remote),n}}();return function(){"use strict";function n(e){e=l(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new u(e.remote):null,this.prefetch=e.prefetch?new c(e.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=r),n},n.tokenizers=i,t.mixin(n.prototype,{__ttAdapter:function(){var e=this;return this.remote?function(t,n,i){return e.search(t,n,i)}:function(t,n){return e.search(t,n)}},_loadPrefetch:function(){var t,n,i=this;return t=e.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),t.resolve()):this.prefetch.fromNetwork(function(e,n){if(e)return t.reject();i.add(n),i.prefetch.store(i.index.serialize()),t.resolve()}):t.resolve(),t.promise()},_initialize:function(){var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){e.add(e.local)}),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,n,i){var r,s=this;return r=this.sorter(this.index.search(e)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(e,function(e){var n=[];t.each(e,function(e){!t.some(r,function(t){return s.identify(e)===s.identify(t)})&&n.push(e)}),i&&i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}()}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){e.each(t,function(e,t){return n(t,e)})},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,r){if(!(i=n.call(null,r,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,r){if(i=n.call(null,r,e,t))return!1}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){return e.isFunction(t)?t:function(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,r;return function(){var s,a,o=this,c=arguments;return s=function(){i=null,n||(r=e.apply(o,c))},a=n&&!i,clearTimeout(i),i=setTimeout(s,t),a&&(r=e.apply(o,c)),r}},throttle:function(e,t){var n,i,r,s,a,o;return a=0,o=function(){a=new Date,r=null,s=e.apply(n,i)},function(){var c=new Date,u=t-(c-a);return n=this,i=arguments,u<=0?(clearTimeout(r),r=null,a=c,s=e.apply(n,i)):r||(r=setTimeout(o,u)),s}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n=function(){"use strict";function e(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function n(e){var n={};return t.each(e,function(e,t){n[t]="."+e}),n}function i(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(s){var a,o;return o=t.mixin({},r,s),a={css:i(),classes:o,html:e(o),selectors:n(o)},{css:a.css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(e){t.mixin(e,a)}}}}(),i=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i;return"typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(n.prototype,{_trigger:function(t,n){var i;return i=e.Event("typeahead:"+t),(n=n||[]).unshift(i),this.$el.trigger.apply(this.$el,n),i},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=i[e])&&this._trigger(t,[].slice.call(arguments,1))}}),n}(),r=function(){"use strict";function e(e,t,r,s){var a;if(!r)return this;for(t=t.split(i),r=s?n(r,s):r,this._callbacks=this._callbacks||{};a=t.shift();)this._callbacks[a]=this._callbacks[a]||{sync:[],async:[]},this._callbacks[a][e].push(r);return this}function t(e,t,n){return function(){for(var i,r=0,s=e.length;!i&&r<s;r+=1)i=!1===e[r].apply(t,n);return!i}}function n(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var i=/\s+/,r=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)};return{onSync:function(t,n,i){return e.call(this,"sync",t,n,i)},onAsync:function(t,n,i){return e.call(this,"async",t,n,i)},off:function(e){var t;if(!this._callbacks)return this;for(e=e.split(i);t=e.shift();)delete this._callbacks[t];return this},trigger:function(e){var n,s,a,o,c;if(!this._callbacks)return this;for(e=e.split(i),a=[].slice.call(arguments,1);(n=e.shift())&&(s=this._callbacks[n]);)o=t(s.sync,this,[n].concat(a)),c=t(s.async,this,[n].concat(a)),o()&&r(c);return this}}}(),s=function(e){"use strict";function n(e,n,i){for(var r,s=[],a=0,o=e.length;a<o;a++)s.push(t.escapeRegExChars(e[a]));return r=i?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function s(e,t){for(var n,i=0;i<e.childNodes.length;i++)3===(n=e.childNodes[i]).nodeType?i+=t(n)?1:0:s(n,t)}var a;(r=t.mixin({},i,r)).node&&r.pattern&&(r.pattern=t.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,function(t){var n,i,s;return(n=a.exec(t.data))&&(s=e.createElement(r.tagName),r.className&&(s.className=r.className),(i=t.splitText(n.index)).splitText(n[0].length),s.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(s,i)),!!n}))}}(window.document),a=function(){"use strict";function n(n,r){(n=n||{}).input||e.error("input is missing"),r.mixin(this),this.$hint=e(n.hint),this.$input=e(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function s(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function a(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!a(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!a(t);break;default:n=!0}return n},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,i;i=!!(n=s(e,this.query))&&this.query.length!==e.length,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,n,i,r,s=this;return e=t.bind(this._onBlur,this),n=t.bind(this._onFocus,this),i=t.bind(this._onKeydown,this),r=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",n).on("keydown.tt",i),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||t.defer(t.bind(s._onInput,s,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n;n=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),!(""!==e&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:!document.selection||((i=document.selection.createRange()).moveStart("character",-e),e===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),n}(),o=function(){"use strict";function n(n,r){(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!o(n.name)&&e.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=a(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(e){return e=e||t.stringify,t.isFunction(e)?e:function(t){return t[e]}}function a(n,i){return{notFound:n.notFound&&t.templatify(n.notFound),pending:n.pending&&t.templatify(n.pending),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||function(t){return e("<div>").text(i(t))}}}function o(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var c,u;return c={val:"tt-selectable-display",obj:"tt-selectable-object"},u=t.getIdGenerator(),n.extractData=function(t){var n=e(t);return n.data(c.obj)?{val:n.data(c.val)||"",obj:n.data(c.obj)||null}:null},t.mixin(n.prototype,r,{_overwrite:function(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,i;i=(n=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var r,a=this;return r=document.createDocumentFragment(),t.each(i,function(t){var i,s;s=a._injectQuery(n,t),i=e(a.templates.suggestion(s)).data(c.obj,t).data(c.val,a.displayFn(t)).addClass(a.classes.suggestion+" "+a.classes.selectable),r.appendChild(i[0])}),this.highlight&&s({className:this.classes.highlight,node:r,pattern:n}),e(r)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,n){return t.isObject(n)?t.mixin({_query:e},n):n},update:function(t){function n(e){s||(s=!0,e=(e||[]).slice(0,i.limit),a=e.length,i._overwrite(t,e),a<i.limit&&i.async&&i.trigger("asyncRequested",t))}var i=this,r=!1,s=!1,a=0;this.cancel(),this.cancel=function(){r=!0,i.cancel=e.noop,i.async&&i.trigger("asyncCanceled",t)},this.source(t,n,function(n){n=n||[],!r&&a<i.limit&&(i.cancel=e.noop,a+=n.length,i._append(t,n.slice(0,i.limit-a)),i.async&&i.trigger("asyncReceived",t))}),!s&&n([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n}(),c=function(){"use strict";function n(n,i){var r=this;(n=n||{}).node||e.error("node is required"),i.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,function(t){var n=r.$node.find(t.node).first();return t.node=n.length?n:e("<div>").appendTo(r.$node),new o(t,i)})}return t.mixin(n.prototype,r,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return t.every(this.datasets,function(e){return e.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,i,r;n=(t=e.position().top)+e.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(i+t):r<n&&this.$node.scrollTop(i+(n-r))},bind:function(){var e,n=this;return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,i,r;return n=this.getActiveSelectable(),t=this._getSelectables(),i=n?t.index(n):-1,r=i+e,r=(r+1)%(t.length+1)-1,-1===(r=r<-1?t.length-1:r)?null:t.eq(r)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?o.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){var n=e!==this.query;return n&&(this.query=e,t.each(this.datasets,function(t){t.update(e)})),n},empty:function(){t.each(this.datasets,function(e){e.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,function(e){e.destroy()})}}),n}(),u=function(){"use strict";function e(){c.apply(this,[].slice.call(arguments,0))}var n=c.prototype;return t.mixin(e.prototype,c.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),l=function(){"use strict";function n(n,r){var s,a,o,c,u,l,h,d,p,f,m;(n=n||{}).input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=i(this,"activate","open","_onFocused"),a=i(this,"deactivate","_onBlurred"),o=i(this,"isActive","isOpen","_onEnterKeyed"),c=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),l=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",a,this).onSync("enterKeyed",o,this).onSync("tabKeyed",c,this).onSync("escKeyed",u,this).onSync("upKeyed",l,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(e){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);t.each(n,function(t){return e[t].apply(e,i)})}}return t.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||e("<div>"),i=this.menu.$node||e("<div>"),n.on("blur.tt",function(e){var r,s,a;r=document.activeElement,s=i.is(r),a=i.has(r).length>0,t.isMsie()&&(s||a)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,t)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault()},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return(e=t.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var e,n,i,r,s,o;e=this.menu.getTopSelectable(),n=this.menu.getSelectableData(e),i=this.input.getInputValue(),!n||t.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=a.normalizeQuery(i),s=t.escapeRegExChars(r),(o=new RegExp("^(?:"+s+")(.+$)","i").exec(n.val))&&this.input.setHint(i+o[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function(e){var t,n;return t=this.input.getQuery(),n=this.menu.getSelectableData(e),!(!(n&&t!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(e){var t,n,i,r;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=this.menu.getSelectableData(n),r=i?i.obj:null,!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(t,n){t.each(function(){var t,i=e(this);(t=i.data(m.typeahead))&&n(t,i)})}function s(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(h(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function o(e,t){e.data(m.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(e){}return e}function h(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function d(e){var n,i;n=e.data(m.www),i=e.parent().filter(n.selectors.wrapper),t.each(e.data(m.attrs),function(n,i){t.isUndefined(n)?e.removeAttr(i):e.attr(i,n)}),e.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),i.length&&(e.detach().insertAfter(i),i.remove())}function p(n){var i,r;return i=t.isJQuery(n)||t.isElement(n),(r=i?e(n).first():[]).length?r:null}var f,m,y;f=e.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},y={initialize:function(r,h){var d;return h=t.isArray(h)?h:[].slice.call(arguments,1),r=r||{},d=n(r.classNames),this.each(function(){var n,f,y,g,b,v,_,w,k,S,q;t.each(h,function(e){e.highlight=!!r.highlight}),n=e(this),f=e(d.html.wrapper),y=p(r.hint),g=p(r.menu),b=!1!==r.hint&&!y,v=!1!==r.menu&&!g,b&&(y=s(n,d)),v&&(g=e(d.html.menu).css(d.css.menu)),y&&y.val(""),n=o(n,d),(b||v)&&(f.css(d.css.wrapper),n.css(b?d.css.input:d.css.inputWithNoHint),n.wrap(f).parent().prepend(b?y:null).append(v?g:null)),q=v?u:c,_=new i({el:n}),w=new a({hint:y,input:n},d),k=new q({node:g,datasets:h},d),S=new l({input:w,menu:k,eventBus:_,minLength:r.minLength},d),n.data(m.www,d),n.data(m.typeahead,S)})},isEnabled:function(){var e;return r(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return r(this,function(e){e.enable()}),this},disable:function(){return r(this,function(e){e.disable()}),this},isActive:function(){var e;return r(this.first(),function(t){e=t.isActive()}),e},activate:function(){return r(this,function(e){e.activate()}),this},deactivate:function(){return r(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return r(this.first(),function(t){e=t.isOpen()}),e},open:function(){return r(this,function(e){e.open()}),this},close:function(){return r(this,function(e){e.close()}),this},select:function(t){var n=!1,i=e(t);return r(this.first(),function(e){n=e.select(i)}),n},autocomplete:function(t){var n=!1,i=e(t);return r(this.first(),function(e){n=e.autocomplete(i)}),n},moveCursor:function(e){var t=!1;return r(this.first(),function(n){t=n.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(r(this,function(t){t.setVal(e)}),this):(r(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return r(this,function(e,t){d(t),e.destroy()}),this}},e.fn.typeahead=function(e){return y[e]?y[e].apply(this,[].slice.call(arguments,1)):y.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=f,this}}()});